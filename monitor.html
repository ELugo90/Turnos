<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monitor Turnos</title>

<style>
body{
  font-family: Arial;
  background:white;
  text-align:center;
  margin:0;
}

.logo{
  width:150px;
  margin-top:20px;
}

.titulo{
  font-size:28px;
  margin-top:20px;
  font-weight:bold;
}

.fila{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  margin:20px;
}

.cuadro{
  width:80px;
  height:80px;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:8px;
  font-size:22px;
  font-weight:bold;
  color:white;
  border-radius:10px;
}

.azul{ background:#1565c0; }
.naranja{ background:#ef6c00; }

/* üîª FOOTER */
footer{
  text-align:center;
  margin-top:20px;  /* m√°s pegado a los cuadros */
  padding-top:10px;
  padding-bottom:20px;
}

.logo-footer{
  width:70px;
  display:block;
  margin:0 auto 5px auto;
  opacity:0.9;
}

.derechos{
  font-size:12px;
  color:#555;
}
</style>
</head>
<body>

<img src="logo.png" class="logo">

<div class="titulo">EN TURNO</div>
<div id="enTurno" class="fila"></div>

<div class="titulo">PREP√ÅRATE CASI ES TU TURNO</div>
<div id="preparate" class="fila"></div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAOmMmesMJ1rpP5gZnJt0w3ZuXK9VmKd9w",
  authDomain: "turnos-evento.firebaseapp.com",
  databaseURL: "https://turnos-evento-default-rtdb.firebaseio.com",
  projectId: "turnos-evento",
  storageBucket: "turnos-evento.firebasestorage.app",
  messagingSenderId: "108395086341",
  appId: "1:108395086341:web:db50986497b6deb278126c"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

onValue(ref(db,"turnos"), snapshot=>{

  if(!snapshot.exists()) return;

  let turnos = [];

  snapshot.forEach(child=>{
    turnos.push(child.val());
  });

  // ordenar por n√∫mero
  turnos.sort((a,b)=> a.numero - b.numero);

  let confirmados = turnos.filter(t=> t.estado === "confirmado");
  let pendientes = turnos.filter(t=> t.estado === "pendiente");

  // üîµ √∫ltimos 10 confirmados
  let enTurno = confirmados.slice(-10);

  // üü† primeros 10 pendientes
  let preparate = pendientes.slice(0,10);

  const divEnTurno = document.getElementById("enTurno");
  const divPreparate = document.getElementById("preparate");

  divEnTurno.innerHTML="";
  divPreparate.innerHTML="";

  enTurno.forEach(t=>{
    divEnTurno.innerHTML +=
      `<div class="cuadro azul">${t.numero}</div>`;
  });

  preparate.forEach(t=>{
    divPreparate.innerHTML +=
      `<div class="cuadro naranja">${t.numero}</div>`;
  });

});

</script>

<!-- üîª FOOTER AGREGADO -->
<footer>
  <img src="Lugo rojo.png" class="logo-footer">
  <div class="derechos">2026 Derechos reservados.</div>
</footer>

</body>
</html>

