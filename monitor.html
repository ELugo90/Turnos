<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Monitor</title>
<style>
body{
  font-family:Arial;
  background:#0a192f;
  color:white;
  text-align:center;
}
h2{margin-top:30px;}
.lista{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
}
.turno{
  background:#0077b6;
  margin:10px;
  padding:15px 25px;
  border-radius:10px;
  font-size:30px;
}
.pendiente{background:#f4a261;}
.transito{background:#e76f51;}
.confirmado{background:#2a9d8f;}
</style>
</head>
<body>

<h1>Monitor de Turnos</h1>

<h2>Pendientes</h2>
<div id="pendientes" class="lista"></div>

<h2>En Tr√°nsito</h2>
<div id="transito" class="lista"></div>

<h2>Confirmados</h2>
<div id="confirmados" class="lista"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAOmMmesMJ1rpP5gZnJt0w3ZuXK9VmKd9w",
  authDomain: "turnos-evento.firebaseapp.com",
  databaseURL: "https://turnos-evento-default-rtdb.firebaseio.com",
  projectId: "turnos-evento",
  storageBucket: "turnos-evento.firebasestorage.app",
  messagingSenderId: "108395086341",
  appId: "1:108395086341:web:db50986497b6deb278126c"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const turnosRef = ref(db,"turnos");

onValue(turnosRef,(snapshot)=>{
  const data = snapshot.val();
  document.getElementById("pendientes").innerHTML="";
  document.getElementById("transito").innerHTML="";
  document.getElementById("confirmados").innerHTML="";

  for(let id in data){
    const turno = data[id];
    const div = document.createElement("div");
    div.className="turno "+turno.estado;
    div.innerText=turno.numero;

    document.getElementById(turno.estado+"s")?.appendChild(div);
  }
});
</script>

</body>
</html>
